"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["14"],{9858:function(e,t,n){var o=n(3949),r=n(5134);let i={ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,ESCAPE:27,SPACE:32,ENTER:13,HOME:36,END:35},a=/^#[a-zA-Z0-9\-_]+$/;o.define("dropdown",e.exports=function(e,t){var n,l,d=t.debounce,s={},u=o.env(),c=!1,g=o.env.touch,f=".w-dropdown",p="w--open",v=r.triggers,h="focusout"+f,w="keydown"+f,m="mouseenter"+f,R="mousemove"+f,O="mouseleave"+f,x=(g?"click":"mouseup")+f,b="w-close"+f,E="setting"+f,A=e(document);function k(){n=u&&o.env("design"),(l=A.find(f)).each(y)}function y(t,r){var l,s,c,g,v,R,O,k,y,_,D=e(r),N=e.data(r,f);N||(N=e.data(r,f,{open:!1,el:D,config:{},selectedIdx:-1})),N.toggle=N.el.children(".w-dropdown-toggle"),N.list=N.el.children(".w-dropdown-list"),N.links=N.list.find("a:not(.w-dropdown .w-dropdown a)"),N.complete=(l=N,function(){l.list.removeClass(p),l.toggle.removeClass(p),l.manageZ&&l.el.css("z-index","")}),N.mouseLeave=(s=N,function(){s.hovering=!1,s.links.is(":focus")||W(s)}),N.mouseUpOutside=((c=N).mouseUpOutside&&A.off(x,c.mouseUpOutside),d(function(t){if(c.open){var n=e(t.target);if(!n.closest(".w-dropdown-toggle").length){var r=-1===e.inArray(c.el[0],n.parents(f)),i=o.env("editor");if(r){if(i){var a=1===n.parents().length&&1===n.parents("svg").length,l=n.parents(".w-editor-bem-EditorHoverControls").length;if(a||l)return}W(c)}}}})),N.mouseMoveOutside=(g=N,d(function(t){if(g.open){var n=e(t.target);if(-1===e.inArray(g.el[0],n.parents(f))){var o=n.parents(".w-editor-bem-EditorHoverControls").length,r=n.parents(".w-editor-bem-RTToolbar").length,i=e(".w-editor-bem-EditorOverlay"),a=i.find(".w-editor-edit-outline").length||i.find(".w-editor-bem-RTToolbar").length;if(o||r||a)return;g.hovering=!1,W(g)}}})),C(N);var U=N.toggle.attr("id"),H=N.list.attr("id");U||(U="w-dropdown-toggle-"+t),H||(H="w-dropdown-list-"+t),N.toggle.attr("id",U),N.toggle.attr("aria-controls",H),N.toggle.attr("aria-haspopup","menu"),N.toggle.attr("aria-expanded","false"),N.toggle.find(".w-icon-dropdown-toggle").attr("aria-hidden","true"),"BUTTON"!==N.toggle.prop("tagName")&&(N.toggle.attr("role","button"),N.toggle.attr("tabindex")||N.toggle.attr("tabindex","0")),N.list.attr("id",H),N.list.attr("aria-labelledby",U),N.links.each(function(e,t){t.hasAttribute("tabindex")||t.setAttribute("tabindex","0"),a.test(t.hash)&&t.addEventListener("click",W.bind(null,N))}),N.el.off(f),N.toggle.off(f),N.nav&&N.nav.off(f);var M=I(N,!0);n&&N.el.on(E,(v=N,function(e,t){t=t||{},C(v),!0===t.open&&T(v),!1===t.open&&W(v,{immediate:!0})})),n||(u&&(N.hovering=!1,W(N)),N.config.hover&&N.toggle.on(m,(R=N,function(){R.hovering=!0,T(R)})),N.el.on(b,M),N.el.on(w,(O=N,function(e){if(!n&&O.open)switch(O.selectedIdx=O.links.index(document.activeElement),e.keyCode){case i.HOME:if(!O.open)return;return O.selectedIdx=0,P(O),e.preventDefault();case i.END:if(!O.open)return;return O.selectedIdx=O.links.length-1,P(O),e.preventDefault();case i.ESCAPE:return W(O),O.toggle.focus(),e.stopPropagation();case i.ARROW_RIGHT:case i.ARROW_DOWN:return O.selectedIdx=Math.min(O.links.length-1,O.selectedIdx+1),P(O),e.preventDefault();case i.ARROW_LEFT:case i.ARROW_UP:return O.selectedIdx=Math.max(-1,O.selectedIdx-1),P(O),e.preventDefault()}})),N.el.on(h,(k=N,d(function(e){var{relatedTarget:t,target:n}=e,o=k.el[0];return o.contains(t)||o.contains(n)||W(k),e.stopPropagation()}))),N.toggle.on(x,M),N.toggle.on(w,(_=I(y=N,!0),function(e){if(!n){if(!y.open)switch(e.keyCode){case i.ARROW_UP:case i.ARROW_DOWN:return e.stopPropagation()}switch(e.keyCode){case i.SPACE:case i.ENTER:return _(),e.stopPropagation(),e.preventDefault()}}})),N.nav=N.el.closest(".w-nav"),N.nav.on(b,M))}function C(e){var t=Number(e.el.css("z-index"));e.manageZ=900===t||901===t,e.config={hover:"true"===e.el.attr("data-hover")&&!g,delay:e.el.attr("data-delay")}}function I(e,t){return d(function(n){if(e.open||n&&"w-close"===n.type)return W(e,{forceClose:t});T(e)})}function T(t){if(!t.open){r=t.el[0],l.each(function(t,n){var o=e(n);o.is(r)||o.has(r).length||o.triggerHandler(b)}),t.open=!0,t.list.addClass(p),t.toggle.addClass(p),t.toggle.attr("aria-expanded","true"),v.intro(0,t.el[0]),o.redraw.up(),t.manageZ&&t.el.css("z-index",901);var r,i=o.env("editor");n||A.on(x,t.mouseUpOutside),t.hovering&&!i&&t.el.on(O,t.mouseLeave),t.hovering&&i&&A.on(R,t.mouseMoveOutside),window.clearTimeout(t.delayId)}}function W(e,{immediate:t,forceClose:n}={}){if(e.open&&(!e.config.hover||!e.hovering||n)){e.toggle.attr("aria-expanded","false"),e.open=!1;var o=e.config;if(v.outro(0,e.el[0]),A.off(x,e.mouseUpOutside),A.off(R,e.mouseMoveOutside),e.el.off(O,e.mouseLeave),window.clearTimeout(e.delayId),!o.delay||t)return e.complete();e.delayId=window.setTimeout(e.complete,o.delay)}}function P(e){e.links[e.selectedIdx]&&e.links[e.selectedIdx].focus()}return s.ready=k,s.design=function(){c&&A.find(f).each(function(t,n){e(n).triggerHandler(b)}),c=!1,k()},s.preview=function(){c=!0,k()},s})}}]);